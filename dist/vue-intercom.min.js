!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["vue-intercom"]=t():e["vue-intercom"]=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e,t){if(!e)throw new Error("[vue-intercom] "+t)},r=void 0,a=function(){function e(t){var o=t.appId;n(this,e),i(r,"call Vue.use(VueIntercom) before creating an instance"),this._appId=o,this._vm=new r({data:function(){return{ready:!1,visible:!1,unreadCount:0}}})}return o(e,[{key:"_init",value:function(){var e=this;this._vm.ready=!0,window.Intercom("onHide",function(){return e._vm.visible=!1}),window.Intercom("onShow",function(){return e._vm.visible=!0}),window.Intercom("onUnreadCountChange",function(t){e._vm.unreadCount=t})}},{key:"boot",value:function(e){var t=e||{};t.app_id||(t.app_id=this._appId),window.Intercom.call(this,"boot",t)}},{key:"shutdown",value:function(){window.Intercom.call(this,"shutdown")}},{key:"update",value:function(e){var t,n=[];e&&n.push(e),(t=window.Intercom).call.apply(t,[this,"update"].concat(n))}},{key:"show",value:function(){window.Intercom.call(this,"show")}},{key:"hide",value:function(){window.Intercom.call(this,"hide")}},{key:"showMessages",value:function(){window.Intercom.call(this,"showMessages")}},{key:"showNewMessage",value:function(e){var t,n=[];e&&"string"==typeof e&&n.push(e),(t=window.Intercom).call.apply(t,[this,"showNewMessage"].concat(n))}},{key:"trackEvent",value:function(e,t){var n,o=[e];t&&o.push(t),(n=window.Intercom).call.apply(n,[this,"trackEvent"].concat(o))}},{key:"getVisitorId",value:function(){return window.Intercom.call(this,"getVisitorId")}},{key:"ready",get:function(){return this._vm.ready}},{key:"visible",get:function(){return this._vm.visible}},{key:"unreadCount",get:function(){return this._vm.unreadCount}}]),e}(),c=void 0,u=function e(t,n){var o=n.appId;i(!r,"already installed."),r=t;var u=new a({appId:o});r.mixin({beforeCreate:function(){this.$options._intercom||(this._intercom=u)},created:function(){var t=this;c||(e.loadScript(o,function(){t.$intercom._init()}),c=!0)}}),Object.defineProperty(r.prototype,"$intercom",{get:function(){return this.$root._intercom}})};u.loadScript=function(e,t){var n=document.createElement("script");n.src="https://widget.intercom.io/widget/"+e;var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o),n.onload=t},t.default={install:u}}])});